# üìÖ QUICK REFERENCE: EVENT CALENDAR & TRAFFIC IMPACT

## üéØ TIER RANKING (Berdasarkan Dampak Traffic)

### ü•á TIER 1: EXTREME (+80-120%)
| Event | Range Periode | Peak Day | Traffic Increase |
|-------|--------------|----------|------------------|
| **Idul Fitri** | H-10 s/d H+7 (17 hari) | H-0, H+1 | +100-120% |
| **Harbolnas 11.11** | 9-13 Nov (5 hari) | 11 Nov midnight | +80-150% |
| **Piala Dunia Final** | 1 hari | Match day | +80-100% |

### ü•à TIER 2: VERY HIGH (+50-80%)
| Event | Range Periode | Peak Day | Traffic Increase |
|-------|--------------|----------|------------------|
| **Tahun Baru** | 25 Des - 7 Jan (14 hari) | 31 Des, 1 Jan | +50-60% |
| **Natal** | 22-27 Des (6 hari) | 24-25 Des | +60-80% |
| **Mudik Lebaran** | H-7 s/d H-5 | H-7, H-6 | +50-70% |

### ü•â TIER 3: HIGH (+30-50%)
| Event | Range Periode | Peak Day | Traffic Increase |
|-------|--------------|----------|------------------|
| **Idul Adha** | H-3 s/d H+3 (7 hari) | H-0 | +30-50% |
| **17 Agustus** | 16-18 Ags (3 hari) | 17 Ags | +30-50% |
| **Long Weekend** | 3-5 hari | Middle day | +30-50% |
| **12.12 Sale** | 10-14 Des (5 hari) | 12 Des | +40-60% |

### üèÖ TIER 4: MODERATE (+10-30%)
| Event | Range Periode | Peak Day | Traffic Increase |
|-------|--------------|----------|------------------|
| **1 Muharram** | H-1 s/d H+2 (4 hari) | H-0 | +10-20% |
| **Pengumuman Ujian** | 1-2 hari | H-0 | +30-50% |
| **Masa Ujian** | 1-2 minggu | Selama ujian | +15-25% |

---

## üìä PATTERN FORMULA PER EVENT

### 1. IDUL FITRI
```
Timeline: 17 hari (H-10 s/d H+7)

Traffic Factor:
H-10: 1.10  (+10%)
H-8:  1.15  (+15%)
H-7:  1.50  (+50%) ‚≠ê MUDIK PEAK
H-6:  1.45  (+45%)
H-5:  1.40  (+40%)
H-4:  1.25  (+25%)
H-3:  1.20  (+20%)
H-2:  1.30  (+30%)
H-1:  1.60  (+60%) ‚≠ê TAKBIRAN
H-0:  2.20  (+120%) ‚≠ê‚≠ê‚≠ê PUNCAK LEBARAN
H+1:  2.00  (+100%) ‚≠ê‚≠ê
H+2:  1.60  (+60%)
H+3:  1.50  (+50%) ‚≠ê BALIK PEAK
H+4:  1.40  (+40%)
H+5:  1.25  (+25%)
H+6:  1.15  (+15%)
H+7:  1.10  (+10%)

Karakteristik:
- 3 peaks: Mudik (H-7), Lebaran (H-0), Balik (H+3)
- Durasi terlama: 17 hari
- Impact tertinggi: +120%
```

### 2. TAHUN BARU MASEHI
```
Timeline: 14 hari (25 Des - 7 Jan)

Traffic Factor:
25 Des: 1.10  (+10%)
27 Des: 1.20  (+20%)
29 Des: 1.25  (+25%)
30 Des: 1.35  (+35%)
31 Des: 1.50  (+50%) ‚≠ê‚≠ê NEW YEAR EVE
1 Jan:  1.60  (+60%) ‚≠ê‚≠ê‚≠ê PUNCAK
2 Jan:  1.40  (+40%)
3 Jan:  1.30  (+30%)
4 Jan:  1.20  (+20%)
5 Jan:  1.15  (+15%)
7 Jan:  1.05  (+5%)

Karakteristik:
- 2 peaks: NYE (31 Des), New Year (1 Jan)
- Midnight spike (00:00-02:00)
- Overlap dengan Natal
```

### 3. NATAL
```
Timeline: 6 hari (22-27 Des)

Traffic Factor:
22 Des: 1.20  (+20%)
23 Des: 1.30  (+30%)
24 Des: 1.60  (+60%) ‚≠ê‚≠ê CHRISTMAS EVE
25 Des: 1.80  (+80%) ‚≠ê‚≠ê‚≠ê PUNCAK
26 Des: 1.40  (+40%)
27 Des: 1.15  (+15%)

Karakteristik:
- Evening peak (24 Des: 18:00-24:00)
- Morning peak (25 Des: 06:00-12:00)
- Overlap dengan Tahun Baru
```

### 4. IDUL ADHA
```
Timeline: 7 hari (H-3 s/d H+3)

Traffic Factor:
H-3: 1.15  (+15%)
H-2: 1.20  (+20%)
H-1: 1.25  (+25%)
H-0: 1.50  (+50%) ‚≠ê‚≠ê PUNCAK
H+1: 1.30  (+30%)
H+2: 1.20  (+20%)
H+3: 1.10  (+10%)

Karakteristik:
- Single peak (H-0)
- Siang peak (08:00-15:00)
- Photo/video sharing kurban
```

### 5. HARBOLNAS 11.11
```
Timeline: 5 hari (9-13 Nov)

Traffic Factor:
9 Nov:  1.30  (+30%)
10 Nov: 1.40  (+40%)
11 Nov: 2.50  (+150%) ‚≠ê‚≠ê‚≠ê PUNCAK
        - 00:00-02:00: 3.00 (+200%) MIDNIGHT PEAK
        - 09:00-12:00: 2.20 (+120%)
        - 21:00-24:00: 2.40 (+140%)
12 Nov: 1.60  (+60%)
13 Nov: 1.30  (+30%)

Karakteristik:
- Extreme midnight spike
- Multiple peaks dalam 1 hari
- E-commerce traffic dominan
```

---

## üóìÔ∏è KALENDER EVENT 2026

### Januari 2026
```
1 Jan (Rab):  Tahun Baru Masehi ‚≠ê‚≠ê‚≠ê
              Range: 25 Des 2025 - 7 Jan 2026
              Factor: 1.60 (peak 1 Jan)
```

### Maret 2026
```
20 Mar (Jum): Idul Fitri (prediksi) ‚≠ê‚≠ê‚≠ê
              Range: 10-27 Maret
              Factor: 2.20 (peak 20 Mar)
              
Breakdown:
10-12 Mar:    Belanja online (+10-15%)
13-14 Mar:    Mudik awal (+30-40%)
15-16 Mar:    Mudik peak (+50-60%) ‚≠ê
17-18 Mar:    Persiapan (+30-40%)
19 Mar:       Takbiran (+60%) ‚≠ê
20 Mar:       Lebaran (+120%) ‚≠ê‚≠ê‚≠ê
21 Mar:       H+1 (+100%) ‚≠ê‚≠ê
22-23 Mar:    Open house (+50-60%)
24 Mar:       Balik peak (+50%) ‚≠ê
25-27 Mar:    Balik lanjutan (+30-40%)
```

### Juni 2026
```
16 Jun (Sel): 1 Muharram 1448 H ‚≠ê
              Range: 15-18 Juni
              Factor: 1.20 (peak 16 Jun)

6 Jun (Sab):  Idul Adha (prediksi) ‚≠ê‚≠ê
              Range: 3-9 Juni
              Factor: 1.50 (peak 6 Jun)
```

### Agustus 2026
```
17 Ags (Sen): HUT RI ke-81 ‚≠ê‚≠ê
              Range: 16-18 Agustus
              Factor: 1.40 (peak 17 Ags)
              
Long Weekend: 15-17 Ags (Sabtu-Senin)
Combined Factor: 1.50 (+50%)
```

### November 2026
```
11 Nov (Rab): Harbolnas 11.11 ‚≠ê‚≠ê‚≠ê
              Range: 9-13 November
              Factor: 2.50 (peak 11 Nov)
              Midnight: 3.00 (00:00-02:00)
```

### Desember 2026
```
12 Des (Sab): 12.12 Sale ‚≠ê‚≠ê
              Range: 10-14 Desember
              Factor: 1.80 (peak 12 Des)

22-27 Des:    Natal ‚≠ê‚≠ê‚≠ê
              Factor: 1.80 (peak 25 Des)

25 Des - 7 Jan: Tahun Baru Extended
              Factor: 1.60 (peak 1 Jan 2027)
```

---

## üí° IMPLEMENTASI DI CODE

### Python Dictionary Format:
```python
EVENT_CALENDAR_2026 = {
    # Tahun Baru Masehi
    '2026-01-01': {'event': 'tahun_baru', 'factor': 1.60, 'tier': 2},
    
    # Idul Fitri
    '2026-03-13': {'event': 'mudik_lebaran', 'factor': 1.30, 'tier': 2},
    '2026-03-15': {'event': 'mudik_lebaran', 'factor': 1.50, 'tier': 2},
    '2026-03-19': {'event': 'takbiran', 'factor': 1.60, 'tier': 2},
    '2026-03-20': {'event': 'idul_fitri', 'factor': 2.20, 'tier': 1},
    '2026-03-21': {'event': 'idul_fitri_h1', 'factor': 2.00, 'tier': 1},
    '2026-03-24': {'event': 'balik_lebaran', 'factor': 1.50, 'tier': 2},
    
    # Idul Adha
    '2026-06-06': {'event': 'idul_adha', 'factor': 1.50, 'tier': 3},
    
    # 1 Muharram
    '2026-06-16': {'event': '1_muharram', 'factor': 1.20, 'tier': 4},
    
    # HUT RI
    '2026-08-17': {'event': 'hut_ri', 'factor': 1.40, 'tier': 3},
    
    # Harbolnas
    '2026-11-11': {'event': 'harbolnas', 'factor': 2.50, 'tier': 1},
    
    # 12.12 Sale
    '2026-12-12': {'event': '1212_sale', 'factor': 1.80, 'tier': 3},
    
    # Natal
    '2026-12-24': {'event': 'christmas_eve', 'factor': 1.60, 'tier': 2},
    '2026-12-25': {'event': 'natal', 'factor': 1.80, 'tier': 2},
    
    # New Year Eve
    '2026-12-31': {'event': 'new_year_eve', 'factor': 1.50, 'tier': 2},
}

# Range calculator
EVENT_RANGES = {
    'idul_fitri': {
        'start_offset': -10,  # H-10
        'end_offset': 7,      # H+7
        'peak_days': [0, 1],  # H-0, H+1
        'secondary_peaks': [-7, -1, 3]  # Mudik, Takbiran, Balik
    },
    'tahun_baru': {
        'start_offset': -7,   # 25 Des
        'end_offset': 7,      # 7 Jan
        'peak_days': [-1, 0], # 31 Des, 1 Jan
    },
    # ... dst
}
```

### Function untuk Get Event Factor:
```python
def get_event_factor(date, event_calendar, event_ranges):
    """
    Get traffic factor untuk tanggal tertentu
    Memperhitungkan event range & decay
    """
    factor = 1.0
    
    # Check exact date
    date_str = date.strftime('%Y-%m-%d')
    if date_str in event_calendar:
        return event_calendar[date_str]['factor']
    
    # Check if in event range
    for event_date_str, event_info in event_calendar.items():
        event_date = datetime.strptime(event_date_str, '%Y-%m-%d')
        event_name = event_info['event']
        
        if event_name in event_ranges:
            range_info = event_ranges[event_name]
            start_date = event_date + timedelta(days=range_info['start_offset'])
            end_date = event_date + timedelta(days=range_info['end_offset'])
            
            if start_date <= date <= end_date:
                days_diff = (date - event_date).days
                factor = calculate_decay_factor(
                    days_diff, 
                    event_info['factor'],
                    range_info
                )
                break
    
    return factor

def calculate_decay_factor(days_diff, peak_factor, range_info):
    """
    Calculate factor dengan decay dari peak
    """
    if days_diff in range_info['peak_days']:
        return peak_factor
    
    if days_diff in range_info.get('secondary_peaks', []):
        return peak_factor * 0.8  # 80% dari peak
    
    # Linear decay
    max_offset = max(abs(range_info['start_offset']), 
                     abs(range_info['end_offset']))
    decay_rate = (peak_factor - 1.0) / max_offset
    decay_factor = peak_factor - (abs(days_diff) * decay_rate)
    
    return max(1.0, decay_factor)
```

---

## üìä VALIDATION METRICS

### Cara Validate Event Impact:

```python
# Compare forecast dengan actual
def validate_event_impact(actual_data, forecast_data, event_dates):
    """
    Validate akurasi event forecasting
    """
    results = {}
    
    for event_date in event_dates:
        actual_value = actual_data[event_date]
        forecast_value = forecast_data[event_date]
        
        error = abs(actual_value - forecast_value) / actual_value
        
        results[event_date] = {
            'actual': actual_value,
            'forecast': forecast_value,
            'error_pct': error * 100,
            'within_ci': error <= 0.10  # Within 10% CI
        }
    
    return results
```

---

## ‚úÖ CHECKLIST IMPLEMENTATION

### Phase 1: Data Collection
- [ ] Collect historical traffic data untuk semua event
- [ ] Identify spike ratio per event
- [ ] Analyze regional differences
- [ ] Analyze operator differences (H3I vs IM3)

### Phase 2: Model Enhancement
- [ ] Create event calendar dictionary
- [ ] Implement event factor function
- [ ] Add decay calculation
- [ ] Test dengan historical data

### Phase 3: Validation
- [ ] Compare forecast vs actual (past events)
- [ ] Calculate MAPE (Mean Absolute Percentage Error)
- [ ] Adjust factors based on validation
- [ ] Document findings

### Phase 4: Production
- [ ] Integrate dengan existing forecast code
- [ ] Create monitoring dashboard
- [ ] Set up alerts untuk event dates
- [ ] Regular update event calendar

---

## üéØ EXPECTED IMPROVEMENTS

### Tanpa Event Consideration:
```
MAPE (Mean Absolute Percentage Error): 30-50%
Max Error: 100-150% (saat event besar)
```

### Dengan Event Consideration:
```
MAPE: 10-15%
Max Error: 20-30%
Improvement: 60-70% reduction in error
```

---

*Quick Reference Guide*  
*Created: November 2025*  
*For: Enhanced Traffic Forecasting*  
*Status: Ready for Implementation*
